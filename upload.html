<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google Analytics -->
  <script async src=""></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-82Q5M30DVP');
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="title" content="SideGames">
  <meta name="description" content="Side Games is a VR App Store for APK Games and Oculus games. We even allow Gorilla Tag Copies unlike SideQuest!">
  <meta name="keywords" content="appstore, vr, sidegames">
  <meta name="robots" content="index, follow">
  <meta name="author" content="SnakeArmy">

  <title>Upload Game - SideGames</title>
  
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- Font Import -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet">

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
</head>
<body>
  <header>
    <nav>
      <div class="logo">
        <img src="https://sidegames.app/SideGames-removebg-preview.png" alt="SideGames Logo">
      </div>
      <div class="nav-links">
        <a href="https://sidegames.app/">Browse Games</a>
        <a href="upload.html" class="upload-btn active">Upload Game</a>
        <a href="daily.html" class="upload-btn">Daily Game</a>
        <a href="contributors.html" class="upload-btn">Contributors</a>
      </div>
    </nav>
  </header>

  <main>
    <section class="hero">
      <h1>Upload Your Game</h1>
      <p>Share your creation with the SideGames community</p>
      
      <div class="upload-container">
        <form id="uploadForm" method="POST" action="/upload" enctype="application/x-www-form-urlencoded">
          <div class="form-group">
            <label for="gameLink">Game Link / APK Link (Host your APK at <a href="https://apkhost.sidegames.app" target="_blank">apkhost.sidegames.app</a>)</label>
            <input type="url" id="gameLink" name="gameLink" required pattern="https://.*" placeholder="Enter your game's APK link" autocomplete="off">
          </div>

          <div class="form-group">
            <label for="gameName">Game Name</label>
            <input type="text" id="gameName" name="gameName" required minlength="3" maxlength="50" placeholder="Enter your game's name" autocomplete="off">
          </div>

          <div class="form-group">
            <label for="imageUrl">Game Cover Image URL</label>
            <input type="url" id="imageUrl" name="imageUrl" required pattern="https://.*" placeholder="Enter the cover image URL" autocomplete="off">
          </div>

          <div class="form-group">
            <label for="gameDescription">Game Description</label>
            <textarea id="gameDescription" name="gameDescription" required minlength="20" maxlength="500" placeholder="Describe your game" autocomplete="off"></textarea>
          </div>

          <div class="form-group">
            <label>Tags (Select at least one)</label>
            <div class="tag-selection">
              <button type="button" class="tag-btn" data-tag="gorilla-tag-copy">(ðŸ”¥HIGH DEMAND) Gorilla Tag Copy</button>
              <button type="button" class="tag-btn" data-tag="gorilla-tag-fan">Gorilla Tag Fan Game</button>
              <button type="button" class="tag-btn" data-tag="shooter">Shooter</button>
              <button type="button" class="tag-btn" data-tag="simulator">Simulator</button>
              <button type="button" class="tag-btn" data-tag="physics">Physics</button>
              <button type="button" class="tag-btn" data-tag="multiplayer">Multiplayer</button>
            </div>
          </div>

          <div class="form-group">
            <label for="discordUsername">Discord Username (Must be in our Discord server)</label>
            <input type="text" id="discordUsername" name="discordUsername" required pattern=".*#\d{4}" placeholder="Example: User#1234" autocomplete="off">
          </div>

          <div class="form-group">
            <label for="discordInvite">Discord Server Invite</label>
            <input type="url" id="discordInvite" name="discordInvite" required pattern="https://discord.gg/.*" placeholder="Enter a valid Discord invite link" autocomplete="off">
          </div>

          <button type="submit" class="submit-btn">Submit Game</button>
        </form>

        <div id="successMessage" style="display: none;" class="success-message">
          <h2>Successfully sent request to accept game!</h2>
          <p>You can go back to the home page here:</p>
          <a href="/" class="browse-btn">Browse</a>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 SideGames. All rights reserved. Discord Server: <a href="/discord.html">Join Here</a></p>
  </footer>

  <script>
    document.getElementById("uploadForm").addEventListener("submit", function(event) {
      event.preventDefault();

      let formData = new FormData(this);
      fetch("/upload", {
        method: "POST",
        body: formData
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          document.getElementById("successMessage").style.display = "block";
          this.reset();
        } else {
          Swal.fire("Error", data.message, "error");
        }
      })
      .catch(error => {
        Swal.fire("Error", "Something went wrong. Try again later.", "error");
      });
    });
  </script>
</body>
</html>
